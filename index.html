
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>SDEC - Documentação</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introducao" class="toc-h1 toc-link" data-title="Introdução">Introdução</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#orgaos-da-rede" class="toc-h2 toc-link" data-title="Órgãos da Rede">Órgãos da Rede</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#juntas-comerciais" class="toc-h3 toc-link" data-title="Juntas Comerciais">Juntas Comerciais</a>
                        </li>
                        <li>
                          <a href="#secretarias-da-fazenda" class="toc-h3 toc-link" data-title="Secretarias da Fazenda">Secretarias da Fazenda</a>
                        </li>
                        <li>
                          <a href="#banco-do-brasil" class="toc-h3 toc-link" data-title="Banco do Brasil">Banco do Brasil</a>
                        </li>
                        <li>
                          <a href="#da-empresa" class="toc-h3 toc-link" data-title="Da Empresa">Da Empresa</a>
                        </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#estrutura-dos-projetos" class="toc-h2 toc-link" data-title="Estrutura dos Projetos">Estrutura dos Projetos</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#invoice-explorer" class="toc-h1 toc-link" data-title="Invoice Explorer">Invoice Explorer</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introducao-2" class="toc-h2 toc-link" data-title="Introdução">Introdução</a>
                  </li>
                  <li>
                    <a href="#modelos" class="toc-h2 toc-link" data-title="Modelos">Modelos</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#empresa" class="toc-h3 toc-link" data-title="Empresa">Empresa</a>
                        </li>
                        <li>
                          <a href="#emissor" class="toc-h3 toc-link" data-title="Emissor">Emissor</a>
                        </li>
                        <li>
                          <a href="#nota-fiscal-de-servico" class="toc-h3 toc-link" data-title="Nota Fiscal de Serviço">Nota Fiscal de Serviço</a>
                        </li>
                        <li>
                          <a href="#nota-de-pagamento" class="toc-h3 toc-link" data-title="Nota de Pagamento">Nota de Pagamento</a>
                        </li>
                        <li>
                          <a href="#comprovante-de-liquidacao" class="toc-h3 toc-link" data-title="Comprovante de Liquidação">Comprovante de Liquidação</a>
                        </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#api-de-notas-fiscais" class="toc-h2 toc-link" data-title="API de Notas Fiscais">API de Notas Fiscais</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#listando-notas-fiscais" class="toc-h3 toc-link" data-title="Listando notas fiscais">Listando notas fiscais</a>
                        </li>
                        <li>
                          <a href="#retornando-uma-nota-fiscal" class="toc-h3 toc-link" data-title="Retornando uma nota fiscal">Retornando uma nota fiscal</a>
                        </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#api-de-empresas" class="toc-h2 toc-link" data-title="API de Empresas">API de Empresas</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#listando-empresas" class="toc-h3 toc-link" data-title="Listando empresas">Listando empresas</a>
                        </li>
                        <li>
                          <a href="#retornando-uma-empresa" class="toc-h3 toc-link" data-title="Retornando uma empresa">Retornando uma empresa</a>
                        </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#api-de-prefeituras" class="toc-h2 toc-link" data-title="API de Prefeituras">API de Prefeituras</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#listando-prefeituras" class="toc-h3 toc-link" data-title="Listando prefeituras">Listando prefeituras</a>
                        </li>
                        <li>
                          <a href="#retornando-uma-prefeitura" class="toc-h3 toc-link" data-title="Retornando uma prefeitura">Retornando uma prefeitura</a>
                        </li>
                        <li>
                          <a href="#emissoes-diarias" class="toc-h3 toc-link" data-title="Emissões diárias">Emissões diárias</a>
                        </li>
                        <li>
                          <a href="#distribuicao-por-status" class="toc-h3 toc-link" data-title="Distribuição por status">Distribuição por status</a>
                        </li>
                        <li>
                          <a href="#receita-passada" class="toc-h3 toc-link" data-title="Receita passada">Receita passada</a>
                        </li>
                    </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sdec-blockchain" class="toc-h1 toc-link" data-title="SDEC Blockchain">SDEC Blockchain</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#eventos" class="toc-h2 toc-link" data-title="Eventos:">Eventos:</a>
                  </li>
                  <li>
                    <a href="#publicacoes" class="toc-h2 toc-link" data-title="Publicações:">Publicações:</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#novo-registro-de-empresa" class="toc-h3 toc-link" data-title="Novo Registro de Empresa:">Novo Registro de Empresa:</a>
                        </li>
                        <li>
                          <a href="#alteracoes-no-registro-da-empresa" class="toc-h3 toc-link" data-title="Alterações no Registro da Empresa:">Alterações no Registro da Empresa:</a>
                        </li>
                        <li>
                          <a href="#emissao-de-notas-fiscais" class="toc-h3 toc-link" data-title="Emissão de Notas Fiscais:">Emissão de Notas Fiscais:</a>
                        </li>
                    </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introducao'>Introdução</h1>
<p><em>SDEC: Sistema Distribuído de Emissão de Contribuição</em></p>

<p>O Sistema Distribuído de Emissão de Contribuição (SDEC), é um sistema no qual as notas fiscais de serviços serão gerenciadas e emitidas a partir de um sistema descentralizado e nacional, racionalizando a dinâmica dos atuais sistemas existentes, assim como aumentando a eficiência na arrecadação.</p>

<p>O objetivo central do sistema é mudar a dinâmica existente atualmente na emissão de notas fiscais de serviços ao redor do país e aproveitar a estrutura existente, porém dando uma nova função a ela.</p>

<p>Enquanto no modelo atual cada município é o responsável pela arrecadação do Imposto Sobre Serviços de Qualquer Natureza, incorrendo em toda a estrutura necessária para tal feito, muitas cidades, por não possuírem arrecadação suficiente que justifique tal investimento, acabam por deixarem de possuir uma potencial fonte de renda a mais advinda da cobrança de tal imposto.</p>

<p>Mas não somente as cidades perdem com isto, as empresas, obrigadas a cumprir com as regras tributárias, acabam por dispender muito recurso para conseguir se enquadrarem adequadamente e, mesmo assim, muitas vezes não o conseguem, acarretando, além de uma perda de produtividade na cadeia produtiva, uma perda na arrecadação das cidades.</p>
<h2 id='orgaos-da-rede'>Órgãos da Rede</h2>
<p>No modelo atual de arrecadação do ISS, cada cidade apresenta sua estrutura para arrecadação do imposto, o que acaba gerando uma falta de padrão entre órgãos e processos a mais para os empreendedores.</p>

<p>Na maioria das cidades brasileiras, o município deixa a responsabilidade da arrecadação para a secretaria da fazenda, é nela que o empreendedor deve se cadastrar para conseguir emitir suas notas fiscais. Entretanto, existem dois extremos opostos nesta dinâmica que são:</p>

<ol>
<li> Cidade Pequena: ela não possui estrutura o suficiente que justifique montar um sistema próprio para a arrecadação deste imposto;</li>
<li> Cidade Referência de Região Metropolitana: ela, por ser referência dentro de uma determinada região, acaba recebendo prestadores de serviços de cidades vizinhas, o que acarreta a necessidade do desenvolvimento de um outro órgão, o CPOM, que fica focado em cadastrar empreendedores de outras cidades.</li>
</ol>

<p>Porém, além desta obrigação junto à prefeitura da cidade em que a empresa se encontra localizada, tem-se o processo natural de abertura de CNPJ, este que é feito em nível estadual, através da Junta de Comércio daquela região.</p>

<p>Com isto, é possível visualizar que as bases de um sistema robusto já existem atualmente, no entanto, não há uma linha lógica que preze pela racionalidade, de tempo e de recursos, tanto para os municípios como para as empresas.</p>
<h3 id='juntas-comerciais'>Juntas Comerciais</h3>
<p>Apresentando uma estrutura robusta e em processo de digitalização de processos internos, as Juntas Comerciais do Brasil já possuem uma base de dados atualizada das empresas. Como são as responsáveis pela ordem dentro do sistema de registro das companhias e empreendedores, são validadores naturais das informações relativas às empresas.</p>

<p>Este papel é subutilizado na dinâmica atual, uma vez que, apesar de haver uma comunicação em nível nacional para isto sob responsabilidade do _____<strong><em>(colocar o nome do órgão federal que reúne essas informações), esta se da de maneira unidirecional, ou seja, as informações saem das Juntas e vão para o _</em></strong>___, mas estas informações, além de não serem compartilhadas, as prefeituras dos municípios não conseguem utilizar estas informações, sendo obrigadas a fazer com que a empresa realize um processo burocrático a mais, o do cadastro junto ao órgão responsável da prefeitura.</p>

<p>Este reprocesso para a empresa acaba por gerar perdas, seja no prolongamento natural que há em se cumprir mais uma etapa para se adequar às regras tributárias, assim como o gasto de tempo junto ao órgão para a emissão de uma senha para acesso ao sistema do município.</p>

<p>Toda esta dinâmica, hoje inadequada, com o avanço da comunicação, pode ser transformada, gerando um processo mais rápido, menos custoso e mais transparente.</p>

<p>No SDEC, a comunicação em relação às Juntas Comerciais será bidirecional, então, as informações que já são enviadas ao _____, começarão a serem disponibilizadas na rede do sistema, assim, o órgão responsável no município ficará responsável por checar estes dados diretamente na rede. Assim, não há necessidade de estrutura para receber estes documentos da empresa, há uma etapa a menos para o empreendedor e as informações continuam sendo corretas, uma vez que as Juntas Comerciais já realizam este processo junto às companhias.</p>
<h3 id='secretarias-da-fazenda'>Secretarias da Fazenda</h3>
<p>Aparentemente o maior desafio, haja visto que cada município, daqueles que possuem, apresenta sua própria estrutura de arrecadação e tributação. Entretanto, considerando o universo abrangido de mais de 5 mil municípios ao redor do Brasil, tem-se um padrão de sistema novo será amplamente aceito, as necessidades de adaptação referentes sistemas mais complexos poderão ser feitas e alinhadas, pois o básico de informação colhida pelas prefeituras é quase igual para todas.</p>

<p>Nesta nova disposição, as Secretarias se interligarão ao sistema para acessar os dados referentes ao seu município, assim como o recolhimento junto ao Banco do Brasil dos impostos pagos pelos contribuintes.</p>
<h3 id='banco-do-brasil'>Banco do Brasil</h3>
<p>Para o pleno funcionamento do Sistema, um ente responsável pela verificação e distribuição dos impostos arrecadados é de essencial importância. Por ser um banco nacional que abrange todos os municípios do país, o Banco do Brasil é este ente.</p>

<p>Ele apresenta como função a verificação do imposto pago, a propagação desta informação no sistema e o devido repasse junto aos municípios de cada montante.</p>

<p>Assim que o pagamento for verificado junto ao Banco do Brasil, este emite uma informação dentro da rede informando ao sistema que aquela empresa pagou o imposto devido e libera o montante na conta da prefeitura de cada cidade.</p>
<h3 id='da-empresa'>Da Empresa</h3>
<p>O papel da empresa pouca muda no novo sistema. Sistemas mudarão e serão reduzidas etapas, acarretando um impacto positivo para a companhia, reduzindo burocracia para o dia a dia da empresa.</p>
<h2 id='estrutura-dos-projetos'>Estrutura dos Projetos</h2>
<ol>
<li><a href="https://github.com/sdec-brasil/worker"><em>Worker</em></a>: Responsável pelo parseamento dos dados da Blockchain em um banco de dados relacional (<em>MySQL</em>) e como PubSub de eventos usando o <em>Redis</em>, que podem ser usados para análise, queries, ou para serviços como o Invoice Explorer.</li>
<li><a href="https://github.com/sdec-brasil/invoice-explorer"><em>Invoice Explorer</em></a>: <em>descrição do API Explorer</em></li>
<li><a href="https://github.com/sdec-brasil/dashboard-emissor"><em>Dashboard Emissor</em></a>: <em>descrição do Dashboard Emissor</em></li>
<li><a href="https://github.com/sdec-brasil/SDEC"><em>SDEC</em></a>: <em>descrição do SDEC</em></li>
</ol>

<p><img src="images/architecture.png" alt="Architecture" /></p>
<h1 id='invoice-explorer'>Invoice Explorer</h1><h2 id='introducao-2'>Introdução</h2>
<p>O <em>Invoice Explorer</em> é uma ferramenta pública de fácil acesso que busca facilitar o desenvolvimento de aplicações para o sistema e aumentar a transparência e visibilidade desses dados. </p>

<p>O Explorer possui uma interface gráfica para visualização das prefeituras, fornecendo uma espécie de painel de controle sobre as atividades econômicas daquele município e de suas empresas no sistema. Na perspectiva das empresas, é possível acompanhar sua atividade em tempo real no sistema e ter estatísticas sobre suas notas fiscais. Para o cidadão, é possível acompanhar o pagamento de impostos de empresas que participam de licitação, ou acompanhar uma parcela do orçamento da sua cidade proveninente do ISS.</p>

<p>O Explorer também possui uma API Rest (<em>GraphQL em breve</em>) para os desenvolvedores e parceiros. A referência da API pode ser encontrada logo mais abaixo.</p>

<p>Site de Acesso: <a href="#">Invoice Explorer</a>
Repositório: <a href="https://github.com/sdec-brasil/invoice-explorer">GH</a></p>
<h2 id='modelos'>Modelos</h2>
<p>As seções abaixo descrevem os modelos estruturais das tabelas relacionadas ao domínio da aplicação no Banco de Dados e que são retornados em respostas da API.</p>
<h3 id='empresa'>Empresa</h3>
<blockquote>
<p>Exemplo de Empresa</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23435652000154"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"razao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Igor Moreira Razão Social"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apenas um Nome Fantasia LTDA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cepEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47486820"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Estados Unidos"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"237"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fazenda"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bairroEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tremembé"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cidadeEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5778811"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estadoEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"regTrib"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endBlock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1XM3YRWcQpTfC1FvVRPxbPEudFbQAHUJgQnY1m"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Campo</th>
<th>Descrição</th>
<th>Optativo?</th>
</tr>
</thead><tbody>
<tr>
<td>cnpj</td>
<td>Cadastro Nacional da Pessoa Jurídica</td>
<td>N</td>
</tr>
<tr>
<td>razao</td>
<td>Razão Social da Empresa</td>
<td>N</td>
</tr>
<tr>
<td>fantasia</td>
<td>Nome Fantasia da Empresa</td>
<td>N</td>
</tr>
<tr>
<td>cepEnd</td>
<td>Código Postal do Endereço Sede da Empresa</td>
<td>N</td>
</tr>
<tr>
<td>logEnd</td>
<td>Logradouro do Endereço Sede da Empresa</td>
<td>N</td>
</tr>
<tr>
<td>numEnd</td>
<td>Número do Endereço Sede da Empresa</td>
<td>N</td>
</tr>
<tr>
<td>compEnd</td>
<td>Complemento do Endereço Sede da Empresa</td>
<td>N</td>
</tr>
<tr>
<td>bairroEnd</td>
<td>Bairro do Endereço Sede da Empresa</td>
<td>N</td>
</tr>
<tr>
<td>cidadeEnd</td>
<td>Cidade do Endereço Sede da Empresa</td>
<td>N</td>
</tr>
<tr>
<td>estadoEnd</td>
<td>Unidade Federativa do Endereço Sede da Empresa</td>
<td>N</td>
</tr>
<tr>
<td>regTrib</td>
<td>Regime Tributário da Empresa (1-4)</td>
<td>N</td>
</tr>
<tr>
<td>email</td>
<td>E-mail de Contato Público da Empresa</td>
<td>S</td>
</tr>
<tr>
<td>telefone</td>
<td>Telefone de Contato Público da Empresa</td>
<td>S</td>
</tr>
<tr>
<td>endBlock</td>
<td>Endereço Público de Cadastro da Empresa</td>
<td>N</td>
</tr>
</tbody></table>

<p>Regime Tributário:</p>

<table><thead>
<tr>
<th>Valor</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>MEI</td>
</tr>
<tr>
<td>2</td>
<td>Simples Nacional</td>
</tr>
<tr>
<td>3</td>
<td>Lucro Presumido</td>
</tr>
<tr>
<td>4</td>
<td>Lucro Real</td>
</tr>
</tbody></table>
<h3 id='emissor'>Emissor</h3>
<p><em>Emissor</em> é o nome atribuído à um endereço público na Blockchain que possui permissão para emitir notas fiscais em nome de um CNPJ. É recomendado que um endereço seja autorizado por somente uma empresa para emissão de notas afim de evitar erros e diminuir cenários de risco.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td>cnpj</td>
<td>Cadastro Nacional da Pessoa Jurídica</td>
</tr>
<tr>
<td>emissorAddress</td>
<td>Endereço Público na Blockchain</td>
</tr>
</tbody></table>

<p>A <em>tupla</em>, então, <em>(CNPJ, emissorAddress)</em> explicita a relação &quot;O endereço público <em>emissorAddress</em> pode emitir notas fiscais que dizem respeito à empresa de <em>CNPJ</em>&quot;.</p>
<h3 id='nota-fiscal-de-servico'>Nota Fiscal de Serviço</h3>
<p>Todos os valores financeiros <em>(R$)</em> estão em centavos.</p>

<blockquote>
<p>Exemplo de Nota Fiscal de Serviço</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1dbedc7de5f0f157dbf673a03e2c0e1a911793603a1ba1d4f5d839d1367f1c8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"substitui"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"substituidaPor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assetName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tomadorEncriptado"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"emissor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ZCjFJZgLVW1n4iTAkoiWBivEQFGxFm7EAoexQ"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67188967000110"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notaPagamento"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocoConfirmacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"prestacao"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"dataPrestacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1931-09-28"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prefeituraPrestacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100403"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codTributMunicipio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100379"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"itemLista"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.36"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codCnae"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codServico"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codNBS"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"discriminacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hover urban volcano attend stool actor tissue other never crop reveal prevent"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valServicos"</span><span class="p">:</span><span class="w"> </span><span class="mi">11968</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descontoIncond"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descontoCond"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exigibilidadeISS"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numProcesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valDeducoes"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baseCalculo"</span><span class="p">:</span><span class="w"> </span><span class="mi">11962</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"tributos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"issRetido"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"respRetencao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"regimeEspTribut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"incentivoFiscal"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"aliqServicos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valIss"</span><span class="p">:</span><span class="w"> </span><span class="mi">56250</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valPis"</span><span class="p">:</span><span class="w"> </span><span class="mi">218</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valCofins"</span><span class="p">:</span><span class="w"> </span><span class="mi">181</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valInss"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valIr"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valCsll"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"outrasRetencoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valTotalTributos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valLiquiNfse"</span><span class="p">:</span><span class="w"> </span><span class="mi">11569</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"tomador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"identificacaoTomador"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nif"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nomeRazaoTomador"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"logEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bairroEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidadeEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"estadoEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paisEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cepEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"intermediario"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"identificacaoIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nomeRazaoIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidadeIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"constCivil"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"codObra"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"art"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Campo</th>
<th>Descrição</th>
<th>Origem da Inf.</th>
<th>Optativo</th>
</tr>
</thead><tbody>
<tr>
<td>nonce</td>
<td>Contador da Nota Fiscal no BD para Paginaçào</td>
<td><em>BD (Worker)</em></td>
<td>N</td>
</tr>
<tr>
<td>txId</td>
<td>Identificador Único da Nota Fiscal</td>
<td><em>Blockchain</em></td>
<td>N</td>
</tr>
<tr>
<td>substitui</td>
<td>txId da Nota Fiscal que está sendo substituída</td>
<td><em>Usuário</em></td>
<td>S</td>
</tr>
<tr>
<td>substituidaPor</td>
<td>txId da Nota Fiscal que substitui essa</td>
<td><em>Blockchain</em></td>
<td>S</td>
</tr>
<tr>
<td>assetName</td>
<td>Nome do Ativo que representa a NF na Blockchain</td>
<td><em>Blockchain</em></td>
<td>N</td>
</tr>
<tr>
<td>dataPrestacao</td>
<td>Dia, mês e ano da prestação de serviço</td>
<td><em>Usuário</em></td>
<td>N</td>
</tr>
<tr>
<td>prefeituraPrestacao</td>
<td>Código do Município onde é prestado o serviço</td>
<td><em>Usuário</em></td>
<td>N</td>
</tr>
<tr>
<td>codTributMunicipio</td>
<td>Cód. do Município onde é a incidência do imposto</td>
<td><em>Usuário</em></td>
<td>N</td>
</tr>
<tr>
<td>itemLista</td>
<td>Código do serviço prestado Item da LC 116/2003</td>
<td><em>Usuário</em></td>
<td>N</td>
</tr>
<tr>
<td>codCnae</td>
<td>CNAE do serivço prestado na Nota Fiscal</td>
<td><em>Usuário</em></td>
<td>S</td>
</tr>
<tr>
<td>codServico</td>
<td>Código do serviço prestado próprio do município</td>
<td></td>
<td></td>
</tr>
<tr>
<td>codNBS</td>
<td>Código da Nomenclatura Brasileira de Serviços</td>
<td></td>
<td></td>
</tr>
<tr>
<td>discriminacao</td>
<td>Discriminação dos serviços</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valServicos</td>
<td>Valor dos serviços em centavos</td>
<td></td>
<td></td>
</tr>
<tr>
<td>descontoIncond</td>
<td>Valor do desconto incondicionado</td>
<td></td>
<td></td>
</tr>
<tr>
<td>descontoCond</td>
<td>Valor do desconto condicionado</td>
<td></td>
<td></td>
</tr>
<tr>
<td>exigibilidadeISS</td>
<td>Exigência do ISS para o serviço prestado (1-6)*</td>
<td></td>
<td></td>
</tr>
<tr>
<td>numProcesso</td>
<td>Processo judicial de suspensão da exigibilidade</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valDeducoes</td>
<td>Val. das deduções p/ Redução da Base de Cálculo</td>
<td></td>
<td></td>
</tr>
<tr>
<td>baseCalculo</td>
<td>(valServicos – valDeducoes – descontoIncond)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>issRetido</td>
<td>ISS foi retido? <em>(true or false)</em></td>
<td></td>
<td></td>
</tr>
<tr>
<td>respRetencao</td>
<td>Retido por: <em>1 – Tomador; 2 – Intermediário</em></td>
<td></td>
<td></td>
</tr>
<tr>
<td>incentivoFiscal</td>
<td><em>true – Sim; false – Não</em></td>
<td></td>
<td></td>
</tr>
<tr>
<td>aliqServicos</td>
<td>Alíquota do serviço prestado</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valIss</td>
<td>Valor do ISS devido em centavos</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valPis</td>
<td>Valor da retenção do PIS em centavos</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valCofins</td>
<td>Valor da retenção do CONFINS em centavos</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valInss</td>
<td>Valor da retenção do INSS em centavos</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valIr</td>
<td>Valor da retenção do IR em centavos</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valCsll</td>
<td>Valor da retenção do CSLL em centavos</td>
<td></td>
<td></td>
</tr>
<tr>
<td>outrasRetencoes</td>
<td>Outras retenções na Fonte  (em centavos)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valTotalTributos</td>
<td>Valor total aprox. dos tributos das 3 esferas</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valLiquiNfse</td>
<td>(valServicos - tributos - retenções - desconts)*</td>
<td></td>
<td></td>
</tr>
<tr>
<td>tomadorEncriptado</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>identificacaoTomador</td>
<td>Cadastro da Pessoa Jurídica ou Física do Tomador</td>
<td></td>
<td></td>
</tr>
<tr>
<td>nif</td>
<td>Identificação Fiscal da Empresa (SISCOSERV)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>nomeRazaoTomador</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>logEnd</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>numEnd</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>compEnd</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>bairroEnd</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>cidadeEnd</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>estadoEnd</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>paisEnd</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>cepEnd</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>email</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>tel</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>codObra</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>art</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>estado</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>emissor</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>cnpj</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>notaPagamento</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>blocoConfirmacao</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<ul>
<li><em>exigibilidadeISS</em>:

<ul>
<li>1 - Exigível</li>
<li>2 - Não Incidência</li>
<li>3 - Isenção</li>
<li>4 - Exportação</li>
<li>5 - Imunidade</li>
<li>6 - Exigiblidade Suspensa por Decisão Judicial</li>
<li>7 - Exigibilidade Suspensa por Processo Adminsitrativo</li>
</ul></li>
<li><em>valLiquiNfse</em>: <code>valServicos - valPis – valCofins – valIss – valIr – valCsll – OutrasRetençoes – ValorISSRetido – DescontoIncondicionado – DescontoCondicionado</code> em centavos </li>
<li><em>estado</em>:

<ul>
<li>0 - Pendente</li>
<li>1 - Atrasada</li>
<li>2 - Pago</li>
<li>3 - Substituída</li>
<li>4 - Dados Inconsistentes</li>
</ul></li>
</ul>

<!--> *regimeEspTribut  0 – Tributação Normal; 1 – Microempresa Municipal; 2 – Estimativa; 3 – Sociedade de Profissionais; 4 – Cooperativa; 5 – Microempresário Individual (MEI); 6 – Microempresário e Empresa de Pequeno Porte (ME EPP); 7 - Movimento Mensal/ISS/Fixo Autônomo; 8 - Sociedade Limitada/Média Empresa; 9 - Sociedade Anônima/Grande Empresa; 10 - Empresa Individual de Responsabilidade Limitada (EIRELI); 11 - Empresa Individual; 12 - Empresa de Pequeno Porte (EPP); 13 - Microempresário; 14 - Outros/Sem Vínculos; 15 - Nenhum; 16 - Nota Avulsa
regtribut   0 - MEI; 1 - Simples Nacional; 2 - Lucro Presumido; 3 - Lucro Real
<!-->
<h3 id='nota-de-pagamento'>Nota de Pagamento</h3>
<p><em>Nota de Pagamento</em> é o dispositivo por qual a empresa demonstra sua intenção de pagar os tributos provenientes à um conjunto de notas fiscais de serviços.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Descrição</th>
<th>Origem da Inf.</th>
</tr>
</thead><tbody>
<tr>
<td>TBD</td>
<td>To be determined</td>
<td>Blockchain</td>
</tr>
</tbody></table>
<h3 id='comprovante-de-liquidacao'>Comprovante de Liquidação</h3>
<table><thead>
<tr>
<th>Campo</th>
<th>Descrição</th>
<th>Origem da Inf.</th>
</tr>
</thead><tbody>
<tr>
<td>TBD</td>
<td>To be determined</td>
<td>Blockchain</td>
</tr>
</tbody></table>
<h2 id='api-de-notas-fiscais'>API de Notas Fiscais</h2><h3 id='listando-notas-fiscais'>Listando notas fiscais</h3>
<blockquote>
<p>Listando notas fiscais</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/v1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1565988308026</span><span class="p">,</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">69</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"cursor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/v1/invoices/?limit=2&amp;offset=6&amp;filter=nonce lte 69"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/v1/invoices/?limit=2&amp;offset=2&amp;filter=nonce lte 69"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="s2">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ac09495db0a091bc04a2d4f76e644960a554e494eecda4d747712acfd65c08d"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"substitui"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"substituidaPor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"assetName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tomadorEncriptado"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emissor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1UQo4dWebdbWEiUg2Xv7Vmt5TeJJbvUAtk1NF4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29260066000100"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"notaPagamento"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"blocoConfirmacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"prestacao"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"dataPrestacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1973-04-07"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"prefeituraPrestacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100346"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"codTributMunicipio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100015"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"itemLista"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76.66"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"codCnae"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4572840"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"codServico"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"codNBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"807073030"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discriminacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"whisper sand stereo surprise answer engine hungry wrestle section warm rubber bargain"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valServicos"</span><span class="p">:</span><span class="w"> </span><span class="mi">13084</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descontoIncond"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descontoCond"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"exigibilidadeISS"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numProcesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valDeducoes"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"baseCalculo"</span><span class="p">:</span><span class="w"> </span><span class="mi">13077</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tributos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"issRetido"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"respRetencao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regimeEspTribut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"incentivoFiscal"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"aliqServicos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"46.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valIss"</span><span class="p">:</span><span class="w"> </span><span class="mi">60186</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valPis"</span><span class="p">:</span><span class="w"> </span><span class="mi">471</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valCofins"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valInss"</span><span class="p">:</span><span class="w"> </span><span class="mi">238</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valIr"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valCsll"</span><span class="p">:</span><span class="w"> </span><span class="mi">158</span><span class="p">,</span><span class="w">
        </span><span class="s2">"outrasRetencoes"</span><span class="p">:</span><span class="w"> </span><span class="mi">68</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valTotalTributos"</span><span class="p">:</span><span class="w"> </span><span class="mi">728</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valLiquiNfse"</span><span class="p">:</span><span class="w"> </span><span class="mi">12149</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tomador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"identificacaoTomador"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nif"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nomeRazaoTomador"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"logEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"compEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bairroEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidadeEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estadoEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paisEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cepEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"intermediario"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"identificacaoIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nomeRazaoIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidadeIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"constCivil"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"codObra"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"art"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="s2">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1dbedc7de5f0f157dbf673a03e2c0e1a911793603a1ba1d4f5d839d1367f1c8"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"substitui"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"substituidaPor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"assetName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tomadorEncriptado"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emissor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ZCjFJZgLVW1n4iTAkoiWBivEQFGxFm7EAoexQ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67188967000110"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"notaPagamento"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"blocoConfirmacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"prestacao"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"dataPrestacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1931-09-28"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"prefeituraPrestacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100403"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"codTributMunicipio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100379"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"itemLista"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.36"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"codCnae"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"codServico"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"codNBS"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discriminacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hover urban volcano attend stool actor tissue other never crop reveal prevent"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valServicos"</span><span class="p">:</span><span class="w"> </span><span class="mi">11968</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descontoIncond"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descontoCond"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"exigibilidadeISS"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numProcesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valDeducoes"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"baseCalculo"</span><span class="p">:</span><span class="w"> </span><span class="mi">11962</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tributos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"issRetido"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"respRetencao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regimeEspTribut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"incentivoFiscal"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"aliqServicos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valIss"</span><span class="p">:</span><span class="w"> </span><span class="mi">56250</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valPis"</span><span class="p">:</span><span class="w"> </span><span class="mi">218</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valCofins"</span><span class="p">:</span><span class="w"> </span><span class="mi">181</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valInss"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valIr"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valCsll"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"outrasRetencoes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valTotalTributos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valLiquiNfse"</span><span class="p">:</span><span class="w"> </span><span class="mi">11569</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"tomador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"identificacaoTomador"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nif"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nomeRazaoTomador"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"logEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"numEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"compEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bairroEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidadeEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estadoEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"paisEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cepEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"intermediario"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"identificacaoIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nomeRazaoIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidadeIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"constCivil"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"codObra"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"art"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET https://localhost:8000/v1/invoices/</code></p>

<p>Endpoint para retornar uma lista de notas ficais. Como a lista é longa e novas notas fiscais poderão ser lançadas no sistema, o parâmetro nonce é utilizado como filtro para não quebrar a paginação. Repare como no <code>cursor.next</code>e <code>cursor.prev</code> já incluíram um filtro por nonce.</p>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>limite de objetos por página.</td>
</tr>
<tr>
<td>offset</td>
<td>numero de objetos a serem pulados.</td>
</tr>
</tbody></table>
<h3 id='retornando-uma-nota-fiscal'>Retornando uma nota fiscal</h3>
<blockquote>
<p>Retornando uma nota fiscal</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3550bbdba7934f3b02b940cc4c27f25fb0b796ef2216af639c79de37d8485d68"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"substitui"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"substituidaPor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assetName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tomadorEncriptado"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"emissor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ZCjFJZgLVW1n4iTAkoiWBivEQFGxFm7EAoexQ"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67188967000110"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notaPagamento"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocoConfirmacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"prestacao"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"dataPrestacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1998-09-06"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prefeituraPrestacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100346"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codTributMunicipio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100015"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"itemLista"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58.54"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codCnae"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codServico"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codNBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"972191070"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"discriminacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"museum cram rookie seed acoustic nurse side hundred wink capital junior acquire"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valServicos"</span><span class="p">:</span><span class="w"> </span><span class="mi">9452</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descontoIncond"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descontoCond"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exigibilidadeISS"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numProcesso"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valDeducoes"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baseCalculo"</span><span class="p">:</span><span class="w"> </span><span class="mi">9450</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"tributos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"issRetido"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"respRetencao"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"regimeEspTribut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"incentivoFiscal"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"aliqServicos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valIss"</span><span class="p">:</span><span class="w"> </span><span class="mi">23630</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valPis"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valCofins"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valInss"</span><span class="p">:</span><span class="w"> </span><span class="mi">385</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valIr"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valCsll"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"outrasRetencoes"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valTotalTributos"</span><span class="p">:</span><span class="w"> </span><span class="mi">753</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valLiquiNfse"</span><span class="p">:</span><span class="w"> </span><span class="mi">9012</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"tomador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"identificacaoTomador"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nif"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nomeRazaoTomador"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"logEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"compEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bairroEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidadeEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"estadoEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paisEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cepEnd"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"intermediario"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"identificacaoIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nomeRazaoIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidadeIntermed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"constCivil"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"codObra"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"art"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET https://localhost:8000/v1/invoices/:txId</code></p>

<ul>
<li><code>txId</code>: id de transação da invoice a ser retornada.</li>
</ul>

<p>Endpoint para retornar uma nota fiscal.</p>
<h2 id='api-de-empresas'>API de Empresas</h2><h3 id='listando-empresas'>Listando empresas</h3>
<blockquote>
<p>Listando empresas</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/v1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1565991149635</span><span class="p">,</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"cursor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/v1/companies/?limit=2&amp;offset=6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/v1/companies/?limit=2&amp;offset=2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23435652000154"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"razao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Igor Moreira Razão Social"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apenas um Nome Fantasia LTDA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cepEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47486820"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"logEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Estados Unidos"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"237"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fazenda"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bairroEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tremembé"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cidadeEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5778811"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"estadoEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"regTrib"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"endBlock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1XM3YRWcQpTfC1FvVRPxbPEudFbQAHUJgQnY1m"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28083309000101"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"razao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amanda Ostitty Razão Social"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apenas um Nome Fantasia LTDA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cepEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37591382"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"logEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Haddock Lobo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"numEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"compEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lote 113"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bairroEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cidade Dutra"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cidadeEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4972503"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"estadoEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"regTrib"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"endBlock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1QPqXVqLvKDdpUyde53xABipYaa1EvpDC41rdF"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET https://localhost:8000/v1/companies/</code></p>

<p>Endpoint para listar as empresas cadastradas no sistema.</p>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>limite de objetos por página.</td>
</tr>
<tr>
<td>offset</td>
<td>numero de objetos a serem pulados.</td>
</tr>
</tbody></table>
<h3 id='retornando-uma-empresa'>Retornando uma empresa</h3>
<blockquote>
<p>Retornando uma empresa</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23435652000154"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"razao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Igor Moreira Razão Social"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apenas um Nome Fantasia LTDA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cepEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47486820"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Estados Unidos"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"237"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fazenda"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bairroEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tremembé"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cidadeEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5778811"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estadoEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"regTrib"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"telefone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"endBlock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1XM3YRWcQpTfC1FvVRPxbPEudFbQAHUJgQnY1m"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>http://localhost:8000/v1/companies/:cnpj</code></p>

<ul>
<li><code>cnpj</code>: cnpj da empresa a ser retornada</li>
</ul>

<p>Endpoint para retornar uma empresa.</p>
<h2 id='api-de-prefeituras'>API de Prefeituras</h2><h3 id='listando-prefeituras'>Listando prefeituras</h3>
<blockquote>
<p>Listando prefeituras</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/v1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1565992229064</span><span class="p">,</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"cursor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"codigoIbge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100015"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alta Floresta D'Oeste"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18511471000120"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"codigoIbge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100023"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ariquemes"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18511471000124"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"codigoIbge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100346"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alvorada D'Oeste"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18511471000123"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"codigoIbge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100379"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alto Alegre dos Parecis"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18511471000121"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"codigoIbge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100403"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alto ParaÃ­so"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18511471000122"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET http://localhost:8000/v1/cities/</code></p>

<p>Endpoint para listar as prefeituras cadastradas no sistema.</p>
<h3 id='retornando-uma-prefeitura'>Retornando uma prefeitura</h3>
<blockquote>
<p>Retornando uma prefeitura</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"codigoIbge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100015"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alta Floresta D'Oeste"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18511471000120"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"uf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"generalStats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"avgLiquidValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">10405</span><span class="p">,</span><span class="w">
    </span><span class="s2">"emittedInvoicesCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avgIss"</span><span class="p">:</span><span class="w"> </span><span class="mi">40009</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lateIssValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lateIssCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"dailyIssuing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/v1/cities/1100015/daily-issuing/?year=2019&amp;month=8"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"yearRevenue"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"invoiceStatusDistribution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"alreadyPaidThisMonth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expectedMonthIncome"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET http://localhost:8000/v1/cities/:codigoIbge</code></p>

<ul>
<li><code>codigoIbge</code>: código do IBGE para a prefeitura a ser retornada.</li>
</ul>

<p>Endpoint para retornar uma prefeitura.</p>
<h3 id='emissoes-diarias'>Emissões diárias</h3>
<blockquote>
<p>Emissões diárias</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"codigoIbge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100015"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alta Floresta D'Oeste"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18511471000120"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"dailyIssuing"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"dataPrestacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1998-09-06"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emittedInvoicesCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"dataPrestacao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1998-09-10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emittedInvoicesCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET http://localhost:8000/v1/cities/:codigoIbge/daily-issuing</code></p>

<ul>
<li><code>codigoIbge</code>: código do IBGE para a prefeitura a ser retornada.</li>
</ul>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td>month</td>
<td>mês referente ao qual serão buscadas as notas ficais</td>
</tr>
<tr>
<td>year</td>
<td>ano referente ao qual serão buscadas as notas ficais</td>
</tr>
</tbody></table>

<p>Endpoint para retornar a contagem diária de notas fiscais emitidas em um certo mês.</p>
<h3 id='distribuicao-por-status'>Distribuição por status</h3>
<blockquote>
<p>Distribuição por status</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"codigoIbge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100015"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alta Floresta D'Oeste"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18511471000120"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"statusSplit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
      </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
      </span><span class="s2">"2"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET http://localhost:8000/v1/cities/:codigoIbge/invoices/distribution?range=:range</code></p>

<ul>
<li><code>codigoIbge</code>: código do IBGE para a prefeitura a ser retornada.</li>
<li><code>range</code>: considerar apenas notas ficais emitidas nos ultimos tantos dias, conforme tabela abaixo.</li>
</ul>

<table><thead>
<tr>
<th>range</th>
<th>descrição</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>todas as notas fiscais</td>
</tr>
<tr>
<td>1</td>
<td>notas fiscais emitidas nos ultimos 12 meses</td>
</tr>
<tr>
<td>2</td>
<td>notas fiscais emitidas nos ultimos 6 meses</td>
</tr>
<tr>
<td>3</td>
<td>notas fiscais emitidas nos ultimos 30 dias</td>
</tr>
<tr>
<td>4</td>
<td>notas fiscais emitidas nos ultimos 7 dias</td>
</tr>
</tbody></table>

<p>Endpoint para retornar a distribuição de notas fiscais por estado da nota. Os estados da nota podem ser consultados na tabela abaixo:</p>

<table><thead>
<tr>
<th>estado</th>
<th>descrição</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>pendente - a nota não foi paga</td>
</tr>
<tr>
<td>1</td>
<td>atrasado - a nota já deveria ter sido paga e não foi</td>
</tr>
<tr>
<td>2</td>
<td>pago - a nota já foi paga</td>
</tr>
<tr>
<td>3</td>
<td>substituída - foi emitida uma nova nota com correções sobre esta</td>
</tr>
<tr>
<td>4</td>
<td>notas fiscais emitidas nos ultimos 30 dias</td>
</tr>
</tbody></table>
<h3 id='receita-passada'>Receita passada</h3>
<blockquote>
<p>Receita passada</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"amountReceived"</span><span class="p">:</span><span class="w"> </span><span class="mi">59101</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"amountReceived"</span><span class="p">:</span><span class="w"> </span><span class="mi">7287</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"amountReceived"</span><span class="p">:</span><span class="w"> </span><span class="mi">8882</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"4"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"amountReceived"</span><span class="p">:</span><span class="w"> </span><span class="mi">8898</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"5"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"amountReceived"</span><span class="p">:</span><span class="w"> </span><span class="mi">3422</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"6"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"amountReceived"</span><span class="p">:</span><span class="w"> </span><span class="mi">3232</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET http://localhost:8000/v1/cities/:codigoIbge/past-revenue/?year=:year</code></p>

<ul>
<li><code>codigoIbge</code>: código do IBGE para a prefeitura a ser retornada.</li>
<li><code>year</code>: ano sobre o qual se quer a receita.</li>
</ul>

<p>Endpoint para retornar a receita mensal de uma prefeitura, para um certo ano. É retornado um objeto onde as chaves no nível raíz são os meses, e o amountReceived é a receita do respectivo mês.</p>
<h1 id='sdec-blockchain'>SDEC Blockchain</h1>
<p>A SDEC Blockchain é uma blockchain permissionada. Isso quer dizer que, todos podem conectar, verificar e auditar as informações públicas, mas a construção do consenso é reservada à participantes selecionados. Nesse caso, esses participantes são as Juntas Comerciais de cada Estado, Banco do Brasil e eventuais órgãos governamentais.</p>
<h2 id='eventos'>Eventos:</h2>
<p>A Blockchain funciona como um registro universal de eventos que aconteceram e suas ordens. Para se ter o &quot;estado&quot; do sistema é necessário computar toda a história dele até o bloco mais recente.</p>

<p>Se você é familiarizado com a arquitetura Redux, é possível pensarmos nesses eventos como ações ao estado (computado) atual da Blockchain naquele ponto por dispatchers fora da rede.</p>

<p>Lista dos possíveis eventos e permissões relacionadas à eles:</p>

<blockquote>
<p>Sugestão: Uma firma de contabilidade deve gerar um novo endereço público e esse ser adicionado ao registro da empresa. Dessa maneira, ela conseguirá emitir notas fiscais válidas para seus clientes.</p>
</blockquote>

<table><thead>
<tr>
<th>Evento</th>
<th>Juntas Comerciais</th>
<th>Empresa</th>
<th>Instituição Liquidadora</th>
</tr>
</thead><tbody>
<tr>
<td>Cadastro de uma nova empresa</td>
<td>Sim</td>
<td>Não</td>
<td>Não</td>
</tr>
<tr>
<td>Alteração em empresa*</td>
<td>Sim</td>
<td>Sim</td>
<td>Não</td>
</tr>
<tr>
<td>Emissão de Nota Fiscal</td>
<td>Não</td>
<td>Sim</td>
<td>Não</td>
</tr>
<tr>
<td>Substituição NF</td>
<td>Não</td>
<td>Sim</td>
<td>Não</td>
</tr>
<tr>
<td>Emissão Nota de Pagamento</td>
<td>Não</td>
<td>Sim</td>
<td>Não</td>
</tr>
<tr>
<td>Atualização Nota de Pagamento</td>
<td>Não</td>
<td>Não</td>
<td>Sim</td>
</tr>
</tbody></table>

<p>*<em>alteração de dados, um novo endereço emissor de notas, status, regime fiscal, etc</em></p>

<p>Os eventos são emitidos no sistema através de publicações.</p>
<h2 id='publicacoes'>Publicações:</h2>
<p>Publicações são arquivos JSON&#39;s publicados na Blockchain que descrevem eventos. A publicação de itens se dá através do comando <code>publish</code> pelo <code>sdec-cli</code>. </p>

<p>As publicações em JSON possuem duas partes:</p>

<ul>
<li><p>Chaves da Publicação (Vetor de Strings)</p></li>
<li><p>Conteúdo da Publicação (Objeto com uma única chave <code>json</code>)</p></li>
</ul>

<p>O vetor das chaves da publicação é formadas pela descrição do evento ([0]), e pelo CNPJ <strong>formatado</strong> da Empresa a que diz respeito ([1]). As descrições possíveis são:</p>

<ul>
<li>COMPANY_NEW</li>
<li>COMPANY_UPDATE</li>
<li>INVOICE_NEW</li>
<li>INVOICE_UPDATE</li>
<li>SETTLEMENT_NEW</li>
<li>SETTLEMENT_UPDATE</li>
</ul>

<blockquote>
<p>Em algumas partições é necessário envolver a chave e o conteúdo em aspas únicas. Exemplo: <code>... events &#39;[&quot;...&quot;, &quot;...&quot;]&#39; &#39;{&quot;json&quot;: $data}&#39;</code></p>
</blockquote>

<p>Um exemplo de publicação válida usando a <code>cli</code>: <code>sdec-cli SDEC publish events [&quot;INVOICE_NEW&quot;, &quot;97.163.041/0001-30&quot;] {&quot;json&quot;: $nota_fiscal }</code></p>

<p>Para acessar a documentação do <code>sdec-cli</code> clique <a href="https://sdec-brasil.github.io">aqui.</a>.</p>

<p>As descrições das publicações e dos modelos esperados pelo sistema segue abaixo.</p>
<h3 id='novo-registro-de-empresa'>Novo Registro de Empresa:</h3>
<p>O registro da empresa deve ser feita pela Junta Comercial responsável. Além da publicação das informações na Blockchain, a Junta também estará autorizando os endereços respectivos a serem emissores de nota.</p>

<blockquote>
<p>Exemplo de Registro de Empresa:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"razao"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACME Demolições LTDA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fantasia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indústrias ACME"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cnpj"</span><span class="p">:</span><span class="w"> </span><span class="s2">"97.163.041/0001-30"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua do Desfiladeiro"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"numEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"compEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Perto da Rocha"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bairroEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zona Centro"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cidadeEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5100250"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estadoEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cepEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"78580-000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acme@boom.pow"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65 3313-4100"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"emissores"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1Bw41hdEenVKdNdYN22r7Kc47qVPkSeie1"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"cnaes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"3811-4/00"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3911-4/00"</span><span class="p">]</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Note que a publicação de JSON&#39;s necessita de um objeto com somente a chave <code>json</code> que mapeia para seu objeto. Exemplo de JSON válido para publicação: <code>{ json: {a: 1, b: &quot;2&quot;} }</code>.</p>
</blockquote>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Exigido</th>
<th>Descrição</th>
<th>Tam.</th>
</tr>
</thead><tbody>
<tr>
<td>razao</td>
<td>S</td>
<td>Razão Social do prestador do serviço</td>
<td>150</td>
</tr>
<tr>
<td>fantasia</td>
<td>N</td>
<td>Nome Fantasia do prestador do serviço</td>
<td>60</td>
</tr>
<tr>
<td>cnpj</td>
<td>S</td>
<td>Número do CNPJ do Prestador do Serviço</td>
<td>14</td>
</tr>
<tr>
<td>logEnd</td>
<td>S</td>
<td>Tipo e nome do logradouro (Av.., Rua..., ...)</td>
<td>125</td>
</tr>
<tr>
<td>numEnd</td>
<td>S</td>
<td>Número do imóvel</td>
<td>10</td>
</tr>
<tr>
<td>compEnd</td>
<td>N</td>
<td>Complemento do endereço do prestador</td>
<td>60</td>
</tr>
<tr>
<td>bairroEnd</td>
<td>S</td>
<td>Bairro da empresa prestadora de serviço</td>
<td>60</td>
</tr>
<tr>
<td>cidadeEnd</td>
<td>S</td>
<td>Código do município do estabelecimento (do IBGE)</td>
<td>7</td>
</tr>
<tr>
<td>estadoEnd</td>
<td>S</td>
<td>Sigla da unidade da federação da empresa</td>
<td>2</td>
</tr>
<tr>
<td>cepEnd</td>
<td>N</td>
<td>Número do CEP</td>
<td>8</td>
</tr>
<tr>
<td>email</td>
<td>N</td>
<td>E-mail do prestador</td>
<td>80</td>
</tr>
<tr>
<td>tel</td>
<td>N</td>
<td>Número do telefone do prestador</td>
<td>20</td>
</tr>
<tr>
<td>emissores</td>
<td>S</td>
<td>Vetor de Endereços Públicos que emitirão notas</td>
<td>&gt;=1</td>
</tr>
<tr>
<td>cnaes</td>
<td>S</td>
<td>Vetor de CNAE&#39;s que a empresa está permitida</td>
<td>&gt;=1</td>
</tr>
</tbody></table>

<aside class="notice">É possível autorizar mais de um endereço público para a emissão de notas em nome da empresa, mas recomendamos que cada um deles seja único à ela e não reutilizado.</aside>
<h3 id='alteracoes-no-registro-da-empresa'>Alterações no Registro da Empresa:</h3><h3 id='emissao-de-notas-fiscais'>Emissão de Notas Fiscais:</h3><h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
